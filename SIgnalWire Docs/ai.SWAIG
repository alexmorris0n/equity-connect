# ai.SWAIG

The SignalWire AI Gateway Interface. Allows you to create user-defined functions that can be executed during the dialogue.

| Name            | Type     | Default | Description                                                          |
| --------------- | -------- | ------- | -------------------------------------------------------------------- |
| `SWAIG`Optional | `object` | -       | An object that contains the [`SWAIG parameters`](#swaig-parameters). |

## **SWAIG Parameters**[​](#swaig-parameters "Direct link to swaig-parameters")

| Name                                                                     | Type       | Default | Description                                                                                                                                                                |
| ------------------------------------------------------------------------ | ---------- | ------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [`defaults`](/swml/methods/ai/swaig/defaults.md)Optional                 | `object`   | -       | Default settings for all SWAIG functions. If `defaults` is not set, settings may be set in each function object. Default is not set.                                       |
| [`functions`](/swml/methods/ai/swaig/functions.md)Optional               | `object[]` | -       | An array of JSON objects to define functions that can be executed during the interaction with the AI. Default is not set. The fields of this object are the six following. |
| [`includes`](/swml/methods/ai/swaig/includes.md)Optional                 | `object[]` | -       | An array of objects to include remote function signatures. This allows you to include functions that are defined in a remote location.                                     |
| [`internal_fillers`](/swml/methods/ai/swaig/internal_fillers.md)Optional | `object`   | -       | An object containing language-specific arrays of filler phrases. Must specify exactly one language code.                                                                   |
| [`native_functions`](/swml/methods/ai/swaig/native_functions.md)Optional | `string[]` | -       | Prebuilt functions the AI agent is able to call (from [this list of available native functions](/swml/methods/ai/swaig/native_functions.md#available-functions))           |

# SWAIG.defaults

Default settings for all SWAIG functions. If `defaults` is not set, settings may be set in each [SWAIG function](/swml/methods/ai/swaig/functions.md) object.

| Name               | Type     | Default | Description                                                       |
| ------------------ | -------- | ------- | ----------------------------------------------------------------- |
| `defaults`Optional | `object` | -       | An object that contains the [`defaults Parameters`](#parameters). |

## defaults Parameters[​](#parameters "Direct link to defaults Parameters")

| Name                                                                      | Type     | Default | Description                                                                                                                                                                                                                                          |
| ------------------------------------------------------------------------- | -------- | ------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [`web_hook_url`](/swml/methods/ai/swaig/defaults/web_hook_url.md)Optional | `string` | -       | Default URL to send status callbacks and reports to. Authentication can also be set in the url in the format of `username:password@url`. See [Callback Parameters](/swml/methods/ai/swaig/defaults/web_hook_url.md) for details on the request body. |

# defaults.web\_hook\_url

The function specific URL that the user defines to which to send status callbacks and reports.

| Name                   | Type     | Default | Description                                                                                                                                                                                                                         |
| ---------------------- | -------- | ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `web_hook_url`Optional | `string` | -       | The URL to send status callbacks and reports to. Authentication can also be set in the url in the format of `username:password@url`. See [Callback Parameters](#callback-request-for-web_hook_url) for details on the request body. |

## Callback Request for web\_hook\_url[​](#callback-request-for-web_hook_url "Direct link to Callback Request for web_hook_url")

SignalWire will make a request to the `web_hook_url` of a SWAIG function with the following parameters:

| Name                   | Type                 | Description                                                                                                                                                                                |
| ---------------------- | -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `content_type`         | `string`             | Type of content. The value will be `text/swaig`.                                                                                                                                           |
| `app_name`             | `string`             | Name of the application that originated the request.                                                                                                                                       |
| `function`             | `string`             | Name of the function that was invoked.                                                                                                                                                     |
| `meta_data`            | `object`             | A JSON object containing any user metadata, as a key-value map.                                                                                                                            |
| `SWMLVars`             | `object`             | A collection of variables related to SWML.                                                                                                                                                 |
| `purpose`              | `string`             | The purpose of the function being invoked. The value will be the `functions.purpose` value you provided in the [SWML Function parameters](/swml/methods/ai/swaig/functions.md#parameters). |
| `argument_desc`        | `string` \| `object` | The description of the argument being passed. This value comes from the argument you provided in the [SWML Function parameters](/swml/methods/ai/swaig/functions.md#parameters).           |
| `argument`             | `object`             | The argument the AI agent is providing to the function. The object contains the three following fields.                                                                                    |
| `argument.parsed`      | `object`             | If a JSON object is detected within the argument, it is parsed and provided here.                                                                                                          |
| `argument.raw`         | `string`             | The raw argument provided by the AI agent.                                                                                                                                                 |
| `argument.substituted` | `string`             | The argument provided by the AI agent, excluding any JSON.                                                                                                                                 |
| `version`              | `string`             | Version number.                                                                                                                                                                            |

#### Webhook request example[​](#webhook-request-example "Direct link to Webhook request example")

Below is a json example of the callback request that is sent to the `web_hook_url`:

```json
{
  "app_name": "swml app",
  "global_data": {
    "caller_id_name": "",
    "caller_id_number": "sip:guest-246dd851-ba60-4762-b0c8-edfe22bc5344@46e10b6d-e5d6-421f-b6b3-e2e22b8934ed.call.signalwire.com;context=guest"
  },
  "project_id": "46e10b6d-e5d6-421f-b6b3-e2e22b8934ed",
  "space_id": "5bb2200d-3662-4f4d-8a8b-d7806946711c",
  "caller_id_name": "",
  "caller_id_num": "sip:guest-246dd851-ba60-4762-b0c8-edfe22bc5344@46e10b6d-e5d6-421f-b6b3-e2e22b8934ed.call.signalwire.com;context=guest",
  "channel_active": true,
  "channel_offhook": true,
  "channel_ready": true,
  "content_type": "text/swaig",
  "version": "2.0",
  "content_disposition": "SWAIG Function",
  "function": "get_weather",
  "argument": {
    "parsed": [
      {
        "city": "Tulsa",
        "state": "Oklahoma"
      }
    ],
    "raw": "{\"city\":\"Tulsa\",\"state\":\"Oklahoma\"}"
  },
  "call_id": "6e0f2f68-f600-4228-ab27-3dfba2b75da7",
  "ai_session_id": "9af20f15-7051-4496-a48a-6e712f22daa5",
  "argument_desc": {
    "properties": {
      "city": {
        "description": "Name of the city",
        "type": "string"
      },
      "country": {
        "description": "Name of the country",
        "type": "string"
      },
      "state": {
        "description": "Name of the state",
        "type": "string"
      }
    },
    "required": [],
    "type": "object"
  },
  "purpose": "Get weather with sarcasm"
}

```

#### Webhook response[​](#webhook-response "Direct link to Webhook response")

When a SWAIG function is executed, the functions expects the user to respond with a JSON object that contains a `response` key and an optional `action` key. This request response is used to provide the LLM with a new prompt response via the `response` key and to execute SWML-compatible objects that will perform new dialplan actions via the `action` key.

| Name                         | Type       | Default | Description                                                                                 |
| ---------------------------- | ---------- | ------- | ------------------------------------------------------------------------------------------- |
| `response`Required           | `string`   | -       | Static text that will be added to the AI agent's context.                                   |
| [`action`](#actions)Optional | `object[]` | -       | A list of SWML-compatible objects that are executed upon the execution of a SWAIG function. |

***

## List of valid actions[​](#actions "Direct link to List of valid actions")

| Name                                                      | Type                 | Default | Description                                                                                                                                                                            |
| --------------------------------------------------------- | -------------------- | ------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `SWML`                                                    | `object`             | -       | A SWML object to be executed.                                                                                                                                                          |
| `say`                                                     | `string`             | -       | A message to be spoken by the AI agent.                                                                                                                                                |
| `stop`                                                    | `boolean`            | -       | Whether to stop the conversation.                                                                                                                                                      |
| [`toggle_functions`](/swml/guides/ai/toggle_functions.md) | `object[]`           | -       | Whether to toggle the functions on or off.                                                                                                                                             |
| `toggle_functions.active`                                 | `boolean`            | `true`  | Whether to activate or deactivate the functions.                                                                                                                                       |
| `toggle_functions.function`                               | `object[]`           | -       | A list of functions to toggle.                                                                                                                                                         |
| `set_global_data`                                         | `object`             | -       | A JSON object containing any global data, as a key-value map. This action sets the data in the [`global_data`](/swml/methods/ai.md#ai-parameters) to be globally referenced.           |
| [`set_meta_data`](/swml/guides/ai/set_meta_data.md)       | `object`             | -       | A JSON object containing any metadata, as a key-value map. This action sets the data in the [`meta_data`](/swml/methods/ai.md#ai-parameters) to be referenced locally in the function. |
| `unset_global_data`                                       | `string` \| `object` | -       | The key of the global data to unset from the [`global_data`](/swml/methods/ai.md#ai-parameters). You can also reset the `global_data` by passing in a new object.                      |
| `unset_meta_data`                                         | `string` \| `object` | -       | The key of the metadata to unset from the [`meta_data`](/swml/methods/ai.md#ai-parameters). You can also reset the `meta_data` by passing in a new object.                             |
| `playback_bg`                                             | `object`             | -       | A JSON object containing the audio file to play.                                                                                                                                       |
| `playback_bg.file`                                        | `string`             | -       | URL or filepath of the audio file to play. Authentication can also be set in the url in the format of `username:password@url`.                                                         |
| `playback_bg.wait`                                        | `boolean`            | `false` | Whether to wait for the audio file to finish playing before continuing.                                                                                                                |
| `stop_playback_bg`                                        | `boolean`            | -       | Whether to stop the background audio file.                                                                                                                                             |
| `user_input`                                              | `string`             | -       | Used to inject text into the users queue as if they input the data themselves.                                                                                                         |
| [`context_switch`](/swml/guides/ai/context_switch.md)     | `object`             | -       | A JSON object containing the context to switch to.                                                                                                                                     |
| `context_switch.system_prompt`                            | `string`             | -       | The instructions to send to the agent.                                                                                                                                                 |
| `context_switch.consolidate`                              | `boolean`            | `false` | Whether to consolidate the context.                                                                                                                                                    |
| `context_switch.user_prompt`                              | `string`             | -       | A string serving as simulated user input for the AI Agent. During a `context_switch` in the AI's prompt, the `user_prompt` offers the AI pre-established context or guidance.          |

<!-- -->

##### Webhook response example[​](#webhook-response-example "Direct link to Webhook response example")

```json
{
  "response": "Oh wow, it's 82.0°F in Tulsa. Bet you didn't see that coming! Humidity at 38%. Your hair is going to love this! Wind speed is 2.2 mph. Hold onto your hats, or don't, I'm not your mother! Looks like Sunny. Guess you'll survive another day.",
  "action": [
    {
      "set_meta_data": {
        "temperature": 82.0,
        "humidity": 38,
        "wind_speed": 2.2,
        "weather": "Sunny"
      }
    },
    {
      "SWML": {
        "version": "1.0.0",
        "sections": {
          "main": [
            {
              "play": {
                "url": "https://example.com/twister.mp3"
              }
            }
          ]
        }
      }
    }
  ]
}

```

## **Variables**[​](#variables "Direct link to variables")

* **ai\_result:** (out) `success` | `failed`
* **return\_value:** (out) `success` | `failed`

# SWAIG.functions

An array of JSON objects to define functions that can be executed during the interaction with the AI.

| Name                | Type       | Default | Description                                                                     |
| ------------------- | ---------- | ------- | ------------------------------------------------------------------------------- |
| `functions`Optional | `object[]` | -       | An array of JSON objects that accept the [`functions Parameters`](#parameters). |

## **functions Parameters**[​](#parameters "Direct link to parameters")

| Parameter                                                               | Type                  | Default           | Description                                                                                                                                                                                                                                                                                                                                                                                                  |
| ----------------------------------------------------------------------- | --------------------- | ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `description` Required                                                  | `string`              | -                 | A description of the context and purpose of the function, to explain to the agent when to use it.                                                                                                                                                                                                                                                                                                            |
| `function` Required                                                     | `string`              | -                 | A unique name for the function. This can be any user-defined string or can reference a reserved function. Reserved functions are SignalWire functions that will be executed at certain points in the conversation. To learn more about reserved functions, see [Reserved Functions](#reserved-functions).                                                                                                    |
| `active` Optional                                                       | `boolean`             | `true`            | Whether the function is active.                                                                                                                                                                                                                                                                                                                                                                              |
| [`data_map`](/swml/methods/ai/swaig/functions/data_map.md)Optional      | `object`              | -                 | An object containing properties to process or validate the input, perform actions based on the input, or connect to external APIs or services in a serverless fashion.                                                                                                                                                                                                                                       |
| [`parameters`](/swml/methods/ai/swaig/functions/parameters.md) Optional | `object`              | -                 | A JSON object that defines the expected user input parameters and their validation rules for the function.                                                                                                                                                                                                                                                                                                   |
| [`fillers`](/swml/methods/ai/swaig/functions/fillers.md) Optional       | `object`              | -                 | A JSON object defining the fillers that should be played when calling a `swaig function`. This helps the AI break silence between responses. The filler is played asynchronously during the function call.                                                                                                                                                                                                   |
| `skip_fillers` Optional                                                 | `boolean`             | `false`           | Skips the top-level fillers specified in [`ai.languages`](/swml/methods/ai/languages.md) (which includes `speech_fillers` and `function_fillers`). When set to `true`, only function-specific fillers defined directly on [`SWAIG.functions.fillers`](/swml/methods/ai/swaig/functions/fillers.md) will play.                                                                                                |
| `meta_data` Optional                                                    | `object`              | -                 | A powerful and flexible environmental variable which can accept arbitrary data that is set initially in the SWML script or from the SWML [`set_meta_data` action](/swml/methods/ai/swaig/functions/data_map/output.md#actions). This data can be referenced **locally** to the function. All contained information can be accessed and expanded within the prompt - for example, by using a template string. |
| `meta_data_token` Optional                                              | `string`              | Set by SignalWire | Scoping token for `meta_data`. If not supplied, metadata will be scoped to function's `web_hook_url`.                                                                                                                                                                                                                                                                                                        |
| `wait_file` Optional                                                    | `string`              | -                 | A file to play while the function is running. `wait_file_loops` can specify the amount of times that files should continously play.                                                                                                                                                                                                                                                                          |
| `wait_file_loops` Optional                                              | `string` \| `integer` | -                 | The amount of times that `wait_file` should continuously play/loop.                                                                                                                                                                                                                                                                                                                                          |
| `wait_for_fillers` Optional                                             | `boolean`             | `false`           | Whether to wait for fillers to finish playing before continuing with the function.                                                                                                                                                                                                                                                                                                                           |
| `web_hook_url` Optional                                                 | `string`              | -                 | Function-specific URL to send status callbacks and reports to. Takes precedence over a default setting. Authentication can also be set in the url in the format of `username:password@url`. See [Callback Parameters](/swml/methods/ai/swaig/functions/web_hook_url.md) for details on the request body.                                                                                                     |
| `purpose`                                                               | `string`              | -                 | Deprecated. Use `description` instead.                                                                                                                                                                                                                                                                                                                                                                       |
| `argument`                                                              | `object`              | -                 | Deprecated. Use `parameters` instead.                                                                                                                                                                                                                                                                                                                                                                        |

## **Reserved Functions**[​](#reserved-functions "Direct link to reserved-functions")

Reserved functions are special SignalWire functions that are automatically triggered at specific points during a conversation. You define them just like any other SWAIG function, but their names correspond to built-in logic on the SignalWire platform, allowing them to perform specific actions at the appropriate time.

Function name conflicts

Do not use reserved function names for your own SWAIG functions unless you want to use the reserved function's built-in behavior. Otherwise, your function may not work as expected.

### List of Reserved Functions[​](#list-of-reserved-functions "Direct link to List of Reserved Functions")

| Function Name            | Purpose                                                                                                                                                                                                                                |
| ------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `start_hook`             | Triggered when the call is answered. Sends the set properties of the function to the defined `web_hook_url`.                                                                                                                           |
| `stop_hook`              | Triggered when the call is ended. Sends the set properties of the function to the defined `web_hook_url`.                                                                                                                              |
| `summarize_conversation` | Triggered when the call is ended. The [`post_prompt`](/swml/methods/ai/post_prompt.md) must be defined for this function to be triggered. Provides a summary of the conversation and any set properties to the defined `web_hook_url`. |

Where are my function properties?

If the AI is not returning the properties you set in your SWAIG function, it may be because a reserved function was triggered before those properties were available. To ensure your function receives all necessary information, make sure the AI has access to the required property values before the reserved function is called. Any property missing at the time the reserved function runs will not be included in the data sent back.

## Diagram examples[​](#diagrams "Direct link to Diagram examples")

<!-- -->

## SWML **Examples**[​](#examples "Direct link to examples")

### Using SWAIG Functions[​](#using-swaig-functions "Direct link to Using SWAIG Functions")

* YAML
* JSON

```yaml
version: 1.0.0
sections:
  main:
    - ai:
        post_prompt_url: "https://example.com/my-api"
        prompt:
          text: |
            You are a helpful assistant that can provide information to users about a destination.
            At the start of the conversation, always ask the user for their name.
            You can use the appropriate function to get the phone number, address,
            or weather information.
        post_prompt:
          text: "Summarize the conversation."
        SWAIG:
          includes:
            - functions:
                - get_phone_number
                - get_address
              url: https://example.com/functions
              user: me
              pass: secret
          defaults:
            web_hook_url: https://example.com/my-webhook
            web_hook_auth_user: me
            web_hook_auth_pass: secret
          functions:
            - function: get_weather
              description: To determine what the current weather is in a provided location.
              parameters:
                properties:
                  location:
                    type: string
                    description: The name of the city to find the weather from.
                type: object
            - function: summarize_conversation
              description: Summarize the conversation.
              parameters:
                type: object
                properties:
                  name:
                    type: string
                    description: The name of the user.

```

```yaml
{
  "version": "1.0.0",
  "sections": {
    "main": [
      {
        "ai": {
          "post_prompt_url": "https://example.com/my-api",
          "prompt": {
            "text": "You are a helpful assistant that can provide information to users about a destination.\nAt the start of the conversation, always ask the user for their name.\nYou can use the appropriate function to get the phone number, address,\nor weather information.\n"
          },
          "post_prompt": {
            "text": "Summarize the conversation."
          },
          "SWAIG": {
            "includes": [
              {
                "functions": [
                  "get_phone_number",
                  "get_address"
                ],
                "url": "https://example.com/functions",
                "user": "me",
                "pass": "secret"
              }
            ],
            "defaults": {
              "web_hook_url": "https://example.com/my-webhook",
              "web_hook_auth_user": "me",
              "web_hook_auth_pass": "secret"
            },
            "functions": [
              {
                "function": "get_weather",
                "description": "To determine what the current weather is in a provided location.",
                "parameters": {
                  "properties": {
                    "location": {
                      "type": "string",
                      "description": "The name of the city to find the weather from."
                    }
                  },
                  "type": "object"
                }
              },
              {
                "function": "summarize_conversation",
                "description": "Summarize the conversation.",
                "parameters": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "The name of the user."
                    }
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}

```
# functions.data\_map

`ai.SWAIG.functions.data_map` defines how a [`SWAIG function`](/swml/methods/ai/swaig/functions.md) should process and respond to the user's input data.

| Name               | Type     | Default | Description                                                                |
| ------------------ | -------- | ------- | -------------------------------------------------------------------------- |
| `data_map`Optional | `object` | -       | An object that contains the [`data_map Parameters`](#data_map-parameters). |

## **data\_map Parameters**[​](#data_map-parameters "Direct link to data_map-parameters")

Processing Order

The components are processed in the following sequence:

1. `expressions` - Processes data using pattern matching (includes its own `output`)
2. `webhooks` - Makes external API calls (includes its own `output` and `expressions`)
3. `output` - Returns a direct response and actions to perform

Similar to a `return` statement in conventional programming languages, when a valid [`output`](/swml/methods/ai/swaig/functions/data_map/output.md) is encountered within any component, it immediately terminates function execution. The `output` provides:

1. A `response` object: Contains static text for the AI agent's context
2. An optional `action` object: Defines executable actions to be triggered

If no component produces a valid `output`, the system continues processing in sequence:

* First attempts `expressions`
* If unsuccessful, tries `webhooks`
* If still unsuccessful, attempts top-level `output`
* If all fail, returns a generic fallback error message

| Name                                                                              | Type       | Default | Description                                                                                                                                                           |
| --------------------------------------------------------------------------------- | ---------- | ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [`expressions`](/swml/methods/ai/swaig/functions/data_map/expressions.md)Required | `object[]` | -       | An array of objects that have pattern matching logic to process the user's input data. A user can define multiple expressions to match against the user's input data. |
| [`webhooks`](/swml/methods/ai/swaig/functions/data_map/webhooks.md)Required       | `object[]` | -       | An array of objects that define external API webhooks that can be used to make external API calls.                                                                    |
| [`output`](/swml/methods/ai/swaig/functions/data_map/output.md)Required           | `object`   | -       | An object that defines the output of the SWAIG function. Behaves like a `return` statement in traditional programming.                                                |

## **Examples:**[​](#examples "Direct link to examples")

1. [Executing SWML from a SWAIG function](/swml/guides/ai/executing_swml.md)

# data\_map.expressions

An array of objects that define plain string or regex patterns to match against the user's input. When a match is found, the `output` object is returned.

| Name                  | Type       | Default | Description                                                                              |
| --------------------- | ---------- | ------- | ---------------------------------------------------------------------------------------- |
| `expressions`Required | `object[]` | -       | An array of objects that accept the [`expressions Parameters`](#expressions-parameters). |

## **expressions Parameters**[​](#expressions-parameters "Direct link to expressions-parameters")

| Parameter                                                               | Type     | Default | Description                                                          |
| ----------------------------------------------------------------------- | -------- | ------- | -------------------------------------------------------------------- |
| `string`Required                                                        | `string` | -       | The actual input or value from the user or system.                   |
| `pattern`Required                                                       | `string` | -       | A regular expression pattern to validate or match the string.        |
| [`output`](/swml/methods/ai/swaig/functions/data_map/output.md)Required | `object` | -       | Defines the response or action to be taken when the pattern matches. |

## Example[​](#example "Direct link to Example")

* YAML
* JSON

```yaml
expressions:
  - string: "starwars"
    pattern: "(?i)star\\s*wars"
    output:
      response: "May the Force be with you!"
  - string: "startrek"
    pattern: "(?i)star\\s*trek"
    output:
      response: "Live long and prosper!"

```

```yaml
{
  "expressions": [
    {
      "string": "starwars",
      "pattern": "(?i)star\\s*wars",
      "output": {
        "response": "May the Force be with you!"
      }
    },
    {
      "string": "startrek",
      "pattern": "(?i)star\\s*trek",
      "output": {
        "response": "Live long and prosper!"
      }
    }
  ]
}

```

# data\_map.output

Similar to a `return` statement in conventional programming languages, the `data_map.output` object immediately terminates function execution and returns control to the caller. When encountered, it returns two values:

1. A `response` object: Contains static text that will be incorporated into the AI agent's context
2. An `action` object: Defines one or more executable [actions](#actions) that are triggered when the SWAIG function successfully completes

Just as a `return` statement prevents any subsequent code from executing in a traditional function, once `data_map.output` is processed, no further instructions within the SWAIG function will be executed.

| Name             | Type     | Default | Description                                                           |
| ---------------- | -------- | ------- | --------------------------------------------------------------------- |
| `output`Required | `object` | -       | An object that accepts the [`output Parameters`](#output-parameters). |

## **output Parameters**[​](#output-parameters "Direct link to output-parameters")

When a SWAIG function is executed, the functions expects the user to respond with a JSON object that contains a `response` key and an optional `action` key. This request response is used to provide the LLM with a new prompt response via the `response` key and to execute SWML-compatible objects that will perform new dialplan actions via the `action` key.

| Name                         | Type       | Default | Description                                                                                 |
| ---------------------------- | ---------- | ------- | ------------------------------------------------------------------------------------------- |
| `response`Required           | `string`   | -       | Static text that will be added to the AI agent's context.                                   |
| [`action`](#actions)Optional | `object[]` | -       | A list of SWML-compatible objects that are executed upon the execution of a SWAIG function. |

***

## List of valid actions[​](#actions "Direct link to List of valid actions")

| Name                                                      | Type                 | Default | Description                                                                                                                                                                            |
| --------------------------------------------------------- | -------------------- | ------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `SWML`                                                    | `object`             | -       | A SWML object to be executed.                                                                                                                                                          |
| `say`                                                     | `string`             | -       | A message to be spoken by the AI agent.                                                                                                                                                |
| `stop`                                                    | `boolean`            | -       | Whether to stop the conversation.                                                                                                                                                      |
| [`toggle_functions`](/swml/guides/ai/toggle_functions.md) | `object[]`           | -       | Whether to toggle the functions on or off.                                                                                                                                             |
| `toggle_functions.active`                                 | `boolean`            | `true`  | Whether to activate or deactivate the functions.                                                                                                                                       |
| `toggle_functions.function`                               | `object[]`           | -       | A list of functions to toggle.                                                                                                                                                         |
| `set_global_data`                                         | `object`             | -       | A JSON object containing any global data, as a key-value map. This action sets the data in the [`global_data`](/swml/methods/ai.md#ai-parameters) to be globally referenced.           |
| [`set_meta_data`](/swml/guides/ai/set_meta_data.md)       | `object`             | -       | A JSON object containing any metadata, as a key-value map. This action sets the data in the [`meta_data`](/swml/methods/ai.md#ai-parameters) to be referenced locally in the function. |
| `unset_global_data`                                       | `string` \| `object` | -       | The key of the global data to unset from the [`global_data`](/swml/methods/ai.md#ai-parameters). You can also reset the `global_data` by passing in a new object.                      |
| `unset_meta_data`                                         | `string` \| `object` | -       | The key of the metadata to unset from the [`meta_data`](/swml/methods/ai.md#ai-parameters). You can also reset the `meta_data` by passing in a new object.                             |
| `playback_bg`                                             | `object`             | -       | A JSON object containing the audio file to play.                                                                                                                                       |
| `playback_bg.file`                                        | `string`             | -       | URL or filepath of the audio file to play. Authentication can also be set in the url in the format of `username:password@url`.                                                         |
| `playback_bg.wait`                                        | `boolean`            | `false` | Whether to wait for the audio file to finish playing before continuing.                                                                                                                |
| `stop_playback_bg`                                        | `boolean`            | -       | Whether to stop the background audio file.                                                                                                                                             |
| `user_input`                                              | `string`             | -       | Used to inject text into the users queue as if they input the data themselves.                                                                                                         |
| [`context_switch`](/swml/guides/ai/context_switch.md)     | `object`             | -       | A JSON object containing the context to switch to.                                                                                                                                     |
| `context_switch.system_prompt`                            | `string`             | -       | The instructions to send to the agent.                                                                                                                                                 |
| `context_switch.consolidate`                              | `boolean`            | `false` | Whether to consolidate the context.                                                                                                                                                    |
| `context_switch.user_prompt`                              | `string`             | -       | A string serving as simulated user input for the AI Agent. During a `context_switch` in the AI's prompt, the `user_prompt` offers the AI pre-established context or guidance.          |

<!-- -->

## Example[​](#example "Direct link to Example")

* YAML
* JSON

```yaml
sections:
  main:
    - ai:
        prompt:
          text: You are a helpful SignalWire assistant.
        SWAIG:
          functions:
            - function: test_function
              description: This is a test function.
              parameters:
                type: object
                properties:
                  name:
                    type: string
                    description: The name of the person.
                required:
                  - name
              data_map:
                output:
                  response: We are testing the function.
                  action:
                    - SWML:
                        sections:
                          main:
                            - play:
                                url: 'say:We are testing the function.'

```

```yaml
{
  "sections": {
    "main": [
      {
        "ai": {
          "prompt": {
            "text": "You are a helpful SignalWire assistant."
          },
          "SWAIG": {
            "functions": [
              {
                "function": "test_function",
                "description": "This is a test function.",
                "parameters": {
                  "type": "object",
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "The name of the person."
                    }
                  },
                  "required": [
                    "name"
                  ]
                },
                "data_map": {
                  "output": {
                    "response": "We are testing the function.",
                    "action": [
                      {
                        "SWML": {
                          "sections": {
                            "main": [
                              {
                                "play": {
                                  "url": "say:We are testing the function."
                                }
                              }
                            ]
                          }
                        }
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    ]
  }
}

```

# data\_map.webhooks

An array of objects that define external API calls.

| Name               | Type       | Default | Description                                                                        |
| ------------------ | ---------- | ------- | ---------------------------------------------------------------------------------- |
| `webhooks`Required | `object[]` | -       | An array of objects that accept the [`webhooks Parameters`](#webhooks-parameters). |

## **webhooks Parameters**[​](#webhooks-parameters "Direct link to webhooks-parameters")

Processing Order

The properties are processed in the following sequence:

1. `foreach`
2. `expressions`
3. `output`

Only applicable when multiple of these properties are set in your configuration.

| Name                                                                               | Type                   | Defaults | Description                                                                                                                                                                                                                                                                                                                       |
| ---------------------------------------------------------------------------------- | ---------------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [`expressions`](/swml/methods/ai/swaig/functions/data_map/expressions.md)Optional  | `object`               | -        | A list of expressions to be evaluated upon matching.                                                                                                                                                                                                                                                                              |
| `error_keys`Optional                                                               | `string` \| `string[]` | -        | A string or array of strings that represent the keys to be used for error handling.                                                                                                                                                                                                                                               |
| `url`Required                                                                      | `string`               | -        | The endpoint for the external service or API. Authentication can also be set in the url in the format of `username:password@url`.                                                                                                                                                                                                 |
| [`foreach`](/swml/methods/ai/swaig/functions/data_map/webhooks/foreach.md)Optional | `object`               | -        | Iterates over an array of objects and processes an output based on each element in the array. Works similarly to JavaScript's [forEach](https://www.w3schools.com/jsref/jsref_foreach.asp) method.<br />This accepts the [`foreach properties`](/swml/methods/ai/swaig/functions/data_map/webhooks/foreach.md#foreach-properties) |
| `headers`Optional                                                                  | `object`               | -        | Any necessary headers for the API call.                                                                                                                                                                                                                                                                                           |
| `method`Required                                                                   | `string`               | -        | The HTTP method (GET, POST, etc.) for the API call.                                                                                                                                                                                                                                                                               |
| `input_args_as_params` Optional                                                    | `boolean`              | `false`  | A boolean to determine if the input [parameters](/swml/methods/ai/swaig/functions/parameters.md) should be passed as parameters.                                                                                                                                                                                                  |
| `params`Optional                                                                   | `object`               | -        | An object of any necessary parameters for the API call. The key is the parameter name and the value is the parameter value.                                                                                                                                                                                                       |
| `required_args`Optional                                                            | `string` \| `string[]` | -        | A string or array of strings that represent the [parameters](/swml/methods/ai/swaig/functions/parameters.md) that are required to make the webhook request.                                                                                                                                                                       |
| [`output`](/swml/methods/ai/swaig/functions/data_map/output.md)Required            | `object`               | -        | Defines the response or action to be taken when the webhook is successfully triggered.                                                                                                                                                                                                                                            |


# data\_map.webhooks

An array of objects that define external API calls.

| Name               | Type       | Default | Description                                                                        |
| ------------------ | ---------- | ------- | ---------------------------------------------------------------------------------- |
| `webhooks`Required | `object[]` | -       | An array of objects that accept the [`webhooks Parameters`](#webhooks-parameters). |

## **webhooks Parameters**[​](#webhooks-parameters "Direct link to webhooks-parameters")

Processing Order

The properties are processed in the following sequence:

1. `foreach`
2. `expressions`
3. `output`

Only applicable when multiple of these properties are set in your configuration.

| Name                                                                               | Type                   | Defaults | Description                                                                                                                                                                                                                                                                                                                       |
| ---------------------------------------------------------------------------------- | ---------------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [`expressions`](/swml/methods/ai/swaig/functions/data_map/expressions.md)Optional  | `object`               | -        | A list of expressions to be evaluated upon matching.                                                                                                                                                                                                                                                                              |
| `error_keys`Optional                                                               | `string` \| `string[]` | -        | A string or array of strings that represent the keys to be used for error handling.                                                                                                                                                                                                                                               |
| `url`Required                                                                      | `string`               | -        | The endpoint for the external service or API. Authentication can also be set in the url in the format of `username:password@url`.                                                                                                                                                                                                 |
| [`foreach`](/swml/methods/ai/swaig/functions/data_map/webhooks/foreach.md)Optional | `object`               | -        | Iterates over an array of objects and processes an output based on each element in the array. Works similarly to JavaScript's [forEach](https://www.w3schools.com/jsref/jsref_foreach.asp) method.<br />This accepts the [`foreach properties`](/swml/methods/ai/swaig/functions/data_map/webhooks/foreach.md#foreach-properties) |
| `headers`Optional                                                                  | `object`               | -        | Any necessary headers for the API call.                                                                                                                                                                                                                                                                                           |
| `method`Required                                                                   | `string`               | -        | The HTTP method (GET, POST, etc.) for the API call.                                                                                                                                                                                                                                                                               |
| `input_args_as_params` Optional                                                    | `boolean`              | `false`  | A boolean to determine if the input [parameters](/swml/methods/ai/swaig/functions/parameters.md) should be passed as parameters.                                                                                                                                                                                                  |
| `params`Optional                                                                   | `object`               | -        | An object of any necessary parameters for the API call. The key is the parameter name and the value is the parameter value.                                                                                                                                                                                                       |
| `required_args`Optional                                                            | `string` \| `string[]` | -        | A string or array of strings that represent the [parameters](/swml/methods/ai/swaig/functions/parameters.md) that are required to make the webhook request.                                                                                                                                                                       |
| [`output`](/swml/methods/ai/swaig/functions/data_map/output.md)Required            | `object`               | -        | Defines the response or action to be taken when the webhook is successfully triggered.                                                                                                                                                                                                                                            |


# webhooks.foreach

Iterates over an array of objects and processes an output based on each element in the array. Works similarly to JavaScript's [forEach](https://www.w3schools.com/jsref/jsref_foreach.asp) method.

| Name              | Type     | Default | Description                                                              |
| ----------------- | -------- | ------- | ------------------------------------------------------------------------ |
| `foreach`Optional | `object` | -       | An object that contains the [`foreach properties`](#foreach-properties). |

## **foreach Properties**[​](#foreach-properties "Direct link to foreach-properties")

| Name                 | Type     | Default | Description                                                                                                                                                                                                                                                     |
| -------------------- | -------- | ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `append`Required     | `string` | -       | The values to append to the `output_key`.<br />Properties from the object can be referenced and added to the `output_key` by using the following syntax: `${this.property_name}`.<br />The `this` keyword is used to reference the current object in the array. |
| `input_key`Required  | `string` | -       | The key to be used to access the current element in the array.                                                                                                                                                                                                  |
| `max`Optional        | `number` | -       | The max amount of elements that are iterated over in the array. This will start at the beginning of the array.                                                                                                                                                  |
| `output_key`Required | `string` | -       | The key that can be referenced in the output of the `foreach` iteration. The values that are stored from `append` will be stored in this key.                                                                                                                   |

# functions.fillers

The `fillers` object is used to define language-specific filler phrases that should be played when calling a `swaig function`. These fillers help break silence between responses and are played asynchronously during the function call.

| Name               | Type     | Default | Description                                                                                              |
| ------------------ | -------- | ------- | -------------------------------------------------------------------------------------------------------- |
| `fillers` Optional | `object` | -       | An object containing language-specific arrays of filler phrases. Must specify exactly one language code. |

## Language Codes[​](#language-codes "Direct link to Language Codes")

The fillers object accepts a single language code as a property key, with an array of filler phrases as its value.

| Name                     | Type       | Default | Description                                                                                                                                                                                                                                                       |
| ------------------------ | ---------- | ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `[key: string]` Required | `string[]` | -       | An object with language codes as the property, where:- **Key:** Must be one of the supported [language codes](#supported-language-codes)<br />- **Value:** An array of strings containing filler phrases that will be randomly selected during function execution |

### Supported Language Codes[​](#supported-language-codes "Direct link to Supported Language Codes")

| Code      | Description                                                                                      |
| --------- | ------------------------------------------------------------------------------------------------ |
| `default` | Default language set by the user in the [`ai.languages`](/swml/methods/ai/languages.md) property |
| `bg`      | Bulgarian                                                                                        |
| `ca`      | Catalan                                                                                          |
| `cs`      | Czech                                                                                            |
| `da`      | Danish                                                                                           |
| `da-DK`   | Danish (Denmark)                                                                                 |
| `de`      | German                                                                                           |
| `de-CH`   | German (Switzerland)                                                                             |
| `el`      | Greek                                                                                            |
| `en`      | English                                                                                          |
| `en-AU`   | English (Australia)                                                                              |
| `en-GB`   | English (United Kingdom)                                                                         |
| `en-IN`   | English (India)                                                                                  |
| `en-NZ`   | English (New Zealand)                                                                            |
| `en-US`   | English (United States)                                                                          |
| `es`      | Spanish                                                                                          |
| `es-419`  | Spanish (Latin America)                                                                          |
| `et`      | Estonian                                                                                         |
| `fi`      | Finnish                                                                                          |
| `fr`      | French                                                                                           |
| `fr-CA`   | French (Canada)                                                                                  |
| `hi`      | Hindi                                                                                            |
| `hu`      | Hungarian                                                                                        |
| `id`      | Indonesian                                                                                       |
| `it`      | Italian                                                                                          |
| `ja`      | Japanese                                                                                         |
| `ko`      | Korean                                                                                           |
| `ko-KR`   | Korean (South Korea)                                                                             |
| `lt`      | Lithuanian                                                                                       |
| `lv`      | Latvian                                                                                          |
| `ms`      | Malay                                                                                            |
| `multi`   | Multilingual (Spanish + English)                                                                 |
| `nl`      | Dutch                                                                                            |
| `nl-BE`   | Flemish (Belgian Dutch)                                                                          |
| `no`      | Norwegian                                                                                        |
| `pl`      | Polish                                                                                           |
| `pt`      | Portuguese                                                                                       |
| `pt-BR`   | Portuguese (Brazil)                                                                              |
| `pt-PT`   | Portuguese (Portugal)                                                                            |
| `ro`      | Romanian                                                                                         |
| `ru`      | Russian                                                                                          |
| `sk`      | Slovak                                                                                           |
| `sv`      | Swedish                                                                                          |
| `sv-SE`   | Swedish (Sweden)                                                                                 |
| `th`      | Thai                                                                                             |
| `th-TH`   | Thai (Thailand)                                                                                  |
| `tr`      | Turkish                                                                                          |
| `uk`      | Ukrainian                                                                                        |
| `vi`      | Vietnamese                                                                                       |
| `zh`      | Chinese (Simplified)                                                                             |
| `zh-CN`   | Chinese (Simplified, China)                                                                      |
| `zh-Hans` | Chinese (Simplified Han)                                                                         |
| `zh-Hant` | Chinese (Traditional Han)                                                                        |
| `zh-HK`   | Chinese (Traditional, Hong Kong)                                                                 |
| `zh-TW`   | Chinese (Traditional, Taiwan)                                                                    |

***

## Example[​](#example "Direct link to Example")

* YAML
* JSON

```yaml
functions:
  - function: get_weather
    description: Get the current weather for a location
    fillers:
      en-US:
        - "Let me check that for you..."
        - "One moment while I look up the weather..."
        - "Checking the current conditions..."

```

```yaml
{
  "functions": [
    {
      "function": "get_weather",
      "description": "Get the current weather for a location",
      "fillers": {
        "en-US": [
          "Let me check that for you...",
          "One moment while I look up the weather...",
          "Checking the current conditions..."
        ]
      }
    }
  ]
}

```

# functions.web\_hook\_url

The function specific URL that the user defines to which to send status callbacks and reports.

| Name                   | Type     | Default | Description                                                                                                                                                                                                                         |
| ---------------------- | -------- | ------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `web_hook_url`Optional | `string` | -       | The URL to send status callbacks and reports to. Authentication can also be set in the url in the format of `username:password@url`. See [Callback Parameters](#callback-request-for-web_hook_url) for details on the request body. |

## Callback Request for web\_hook\_url[​](#callback-request-for-web_hook_url "Direct link to Callback Request for web_hook_url")

SignalWire will make a request to the `web_hook_url` of a SWAIG function with the following parameters:

| Name                   | Type                 | Description                                                                                                                                                                                |
| ---------------------- | -------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `content_type`         | `string`             | Type of content. The value will be `text/swaig`.                                                                                                                                           |
| `app_name`             | `string`             | Name of the application that originated the request.                                                                                                                                       |
| `function`             | `string`             | Name of the function that was invoked.                                                                                                                                                     |
| `meta_data`            | `object`             | A JSON object containing any user metadata, as a key-value map.                                                                                                                            |
| `SWMLVars`             | `object`             | A collection of variables related to SWML.                                                                                                                                                 |
| `purpose`              | `string`             | The purpose of the function being invoked. The value will be the `functions.purpose` value you provided in the [SWML Function parameters](/swml/methods/ai/swaig/functions.md#parameters). |
| `argument_desc`        | `string` \| `object` | The description of the argument being passed. This value comes from the argument you provided in the [SWML Function parameters](/swml/methods/ai/swaig/functions.md#parameters).           |
| `argument`             | `object`             | The argument the AI agent is providing to the function. The object contains the three following fields.                                                                                    |
| `argument.parsed`      | `object`             | If a JSON object is detected within the argument, it is parsed and provided here.                                                                                                          |
| `argument.raw`         | `string`             | The raw argument provided by the AI agent.                                                                                                                                                 |
| `argument.substituted` | `string`             | The argument provided by the AI agent, excluding any JSON.                                                                                                                                 |
| `version`              | `string`             | Version number.                                                                                                                                                                            |

#### Webhook request example[​](#webhook-request-example "Direct link to Webhook request example")

Below is a json example of the callback request that is sent to the `web_hook_url`:

```json
{
  "app_name": "swml app",
  "global_data": {
    "caller_id_name": "",
    "caller_id_number": "sip:guest-246dd851-ba60-4762-b0c8-edfe22bc5344@46e10b6d-e5d6-421f-b6b3-e2e22b8934ed.call.signalwire.com;context=guest"
  },
  "project_id": "46e10b6d-e5d6-421f-b6b3-e2e22b8934ed",
  "space_id": "5bb2200d-3662-4f4d-8a8b-d7806946711c",
  "caller_id_name": "",
  "caller_id_num": "sip:guest-246dd851-ba60-4762-b0c8-edfe22bc5344@46e10b6d-e5d6-421f-b6b3-e2e22b8934ed.call.signalwire.com;context=guest",
  "channel_active": true,
  "channel_offhook": true,
  "channel_ready": true,
  "content_type": "text/swaig",
  "version": "2.0",
  "content_disposition": "SWAIG Function",
  "function": "get_weather",
  "argument": {
    "parsed": [
      {
        "city": "Tulsa",
        "state": "Oklahoma"
      }
    ],
    "raw": "{\"city\":\"Tulsa\",\"state\":\"Oklahoma\"}"
  },
  "call_id": "6e0f2f68-f600-4228-ab27-3dfba2b75da7",
  "ai_session_id": "9af20f15-7051-4496-a48a-6e712f22daa5",
  "argument_desc": {
    "properties": {
      "city": {
        "description": "Name of the city",
        "type": "string"
      },
      "country": {
        "description": "Name of the country",
        "type": "string"
      },
      "state": {
        "description": "Name of the state",
        "type": "string"
      }
    },
    "required": [],
    "type": "object"
  },
  "purpose": "Get weather with sarcasm"
}

```

#### Webhook response[​](#webhook-response "Direct link to Webhook response")

When a SWAIG function is executed, the functions expects the user to respond with a JSON object that contains a `response` key and an optional `action` key. This request response is used to provide the LLM with a new prompt response via the `response` key and to execute SWML-compatible objects that will perform new dialplan actions via the `action` key.

| Name                         | Type       | Default | Description                                                                                 |
| ---------------------------- | ---------- | ------- | ------------------------------------------------------------------------------------------- |
| `response`Required           | `string`   | -       | Static text that will be added to the AI agent's context.                                   |
| [`action`](#actions)Optional | `object[]` | -       | A list of SWML-compatible objects that are executed upon the execution of a SWAIG function. |

***

## List of valid actions[​](#actions "Direct link to List of valid actions")

| Name                                                      | Type                 | Default | Description                                                                                                                                                                            |
| --------------------------------------------------------- | -------------------- | ------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `SWML`                                                    | `object`             | -       | A SWML object to be executed.                                                                                                                                                          |
| `say`                                                     | `string`             | -       | A message to be spoken by the AI agent.                                                                                                                                                |
| `stop`                                                    | `boolean`            | -       | Whether to stop the conversation.                                                                                                                                                      |
| [`toggle_functions`](/swml/guides/ai/toggle_functions.md) | `object[]`           | -       | Whether to toggle the functions on or off.                                                                                                                                             |
| `toggle_functions.active`                                 | `boolean`            | `true`  | Whether to activate or deactivate the functions.                                                                                                                                       |
| `toggle_functions.function`                               | `object[]`           | -       | A list of functions to toggle.                                                                                                                                                         |
| `set_global_data`                                         | `object`             | -       | A JSON object containing any global data, as a key-value map. This action sets the data in the [`global_data`](/swml/methods/ai.md#ai-parameters) to be globally referenced.           |
| [`set_meta_data`](/swml/guides/ai/set_meta_data.md)       | `object`             | -       | A JSON object containing any metadata, as a key-value map. This action sets the data in the [`meta_data`](/swml/methods/ai.md#ai-parameters) to be referenced locally in the function. |
| `unset_global_data`                                       | `string` \| `object` | -       | The key of the global data to unset from the [`global_data`](/swml/methods/ai.md#ai-parameters). You can also reset the `global_data` by passing in a new object.                      |
| `unset_meta_data`                                         | `string` \| `object` | -       | The key of the metadata to unset from the [`meta_data`](/swml/methods/ai.md#ai-parameters). You can also reset the `meta_data` by passing in a new object.                             |
| `playback_bg`                                             | `object`             | -       | A JSON object containing the audio file to play.                                                                                                                                       |
| `playback_bg.file`                                        | `string`             | -       | URL or filepath of the audio file to play. Authentication can also be set in the url in the format of `username:password@url`.                                                         |
| `playback_bg.wait`                                        | `boolean`            | `false` | Whether to wait for the audio file to finish playing before continuing.                                                                                                                |
| `stop_playback_bg`                                        | `boolean`            | -       | Whether to stop the background audio file.                                                                                                                                             |
| `user_input`                                              | `string`             | -       | Used to inject text into the users queue as if they input the data themselves.                                                                                                         |
| [`context_switch`](/swml/guides/ai/context_switch.md)     | `object`             | -       | A JSON object containing the context to switch to.                                                                                                                                     |
| `context_switch.system_prompt`                            | `string`             | -       | The instructions to send to the agent.                                                                                                                                                 |
| `context_switch.consolidate`                              | `boolean`            | `false` | Whether to consolidate the context.                                                                                                                                                    |
| `context_switch.user_prompt`                              | `string`             | -       | A string serving as simulated user input for the AI Agent. During a `context_switch` in the AI's prompt, the `user_prompt` offers the AI pre-established context or guidance.          |

<!-- -->

##### Webhook response example[​](#webhook-response-example "Direct link to Webhook response example")

```json
{
  "response": "Oh wow, it's 82.0°F in Tulsa. Bet you didn't see that coming! Humidity at 38%. Your hair is going to love this! Wind speed is 2.2 mph. Hold onto your hats, or don't, I'm not your mother! Looks like Sunny. Guess you'll survive another day.",
  "action": [
    {
      "set_meta_data": {
        "temperature": 82.0,
        "humidity": 38,
        "wind_speed": 2.2,
        "weather": "Sunny"
      }
    },
    {
      "SWML": {
        "version": "1.0.0",
        "sections": {
          "main": [
            {
              "play": {
                "url": "https://example.com/twister.mp3"
              }
            }
          ]
        }
      }
    }
  ]
}

```

## **Variables**[​](#variables "Direct link to variables")

* **ai\_result:** (out) `success` | `failed`
* **return\_value:** (out) `success` | `failed`

# functions.parameters

The `parameters` object is used to define the input data that will be passed to the function.

| Name                 | Type     | Default | Description                                             |
| -------------------- | -------- | ------- | ------------------------------------------------------- |
| `parameters`Optional | `object` | -       | An object that contains the [`parameters`](#parameters) |

## Parameters[​](#parameters "Direct link to Parameters")

The `parameters` object defines the function parameters that will be passed to the AI.

| Name                  | Type       | Default | Description                                                                                 |
| --------------------- | ---------- | ------- | ------------------------------------------------------------------------------------------- |
| `type` Required       | `string`   | -       | Defines the top-level type of the parameters. Must be set to `"object"`                     |
| `properties` Required | `object`   | -       | An object containing the [properties](#properties) definitions to be passed to the function |
| `required` Optional   | `string[]` | -       | Array of required property names from the `properties` object                               |

## Properties[​](#properties "Direct link to Properties")

The `properties` object defines the input data that will be passed to the function. It supports different types of parameters, each with their own set of configuration options. The property name is a key in the `properties` object that is user-defined.

| Name                     | Type     | Default | Description                                                                                                                                                                                                                                                                                                                 |
| ------------------------ | -------- | ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `[key: string]` Required | `object` | -       | An object with dynamic property names, where:- **Keys:** User-defined strings, that set the property name.<br />- **Values:** Must be one of the valid [schema types](#schema-types). Learn more about valid schema types from the [JSON Schema documentation](https://json-schema.org/understanding-json-schema/reference) |

### Schema Types[​](#schema-types "Direct link to Schema Types")

* string
* integer
* number
* boolean
* array
* object
* oneOf
* allOf
* anyOf
* const

### String Properties

| Name                   | Type       | Default | Description                                                                       |
| ---------------------- | ---------- | ------- | --------------------------------------------------------------------------------- |
| `type` Required        | `string`   | -       | The type of property the AI is passing to the function. Must be set to `"string"` |
| `description` Optional | `string`   | -       | A description of the property                                                     |
| `enum` Optional        | `string[]` | -       | An array of strings that are the possible values                                  |
| `default`Optional      | `string`   | -       | The default string value                                                          |
| `pattern`Optional      | `string`   | -       | Regular expression pattern for the string value to match                          |
| `nullable`Optional     | `boolean`  | `false` | Whether the property can be null                                                  |

#### Example[​](#example "Direct link to Example")

* YAML
* JSON

```yaml
parameters:
  type: object
  properties:
    property_name:
      type: string
      description: A string value
      pattern: ^[a-z]+$

```

```yaml
{
  "parameters": {
    "type": "object",
    "properties": {
      "property_name": {
        "type": "string",
        "description": "A string value",
        "pattern": "^[a-z]+$"
      }
    }
  }
}

```

### Integer Properties

| Name                  | Type        | Default | Description                                                                         |
| --------------------- | ----------- | ------- | ----------------------------------------------------------------------------------- |
| `type`Required        | `string`    | -       | The type of parameter the AI is passing to the function. Must be set to `"integer"` |
| `description`Optional | `string`    | -       | A description of the property                                                       |
| `enum`Optional        | `integer[]` | -       | An array of integers that are the possible values                                   |
| `default`Optional     | `integer`   | -       | The default integer value                                                           |
| `nullable`Optional    | `boolean`   | `false` | Whether the property can be null                                                    |

#### Example[​](#example-1 "Direct link to Example")

* YAML
* JSON

```yaml
parameters:
  type: object
  properties:
    property_name:
      type: integer
      description: An integer value
      default: 10

```

```yaml
{
  "parameters": {
    "type": "object",
    "properties": {
      "property_name": {
        "type": "integer",
        "description": "An integer value",
        "default": 10
      }
    }
  }
}

```

### Number Properties

| Name                  | Type       | Default | Description                                                                        |
| --------------------- | ---------- | ------- | ---------------------------------------------------------------------------------- |
| `type`Required        | `string`   | -       | The type of parameter the AI is passing to the function. Must be set to `"number"` |
| `description`Optional | `string`   | -       | A description of the property                                                      |
| `enum`Optional        | `number[]` | -       | An array of numbers that are the possible values                                   |
| `default`Optional     | `number`   | -       | The default number value                                                           |
| `nullable`Optional    | `boolean`  | `false` | Whether the property can be null                                                   |

#### Example[​](#example-2 "Direct link to Example")

* YAML
* JSON

```yaml
parameters:
  type: object
  properties:
    property_name:
      type: number
      description: A number value
      default: 10.5

```

```yaml
{
  "parameters": {
    "type": "object",
    "properties": {
      "property_name": {
        "type": "number",
        "description": "A number value",
        "default": 10.5
      }
    }
  }
}

```

### Boolean Properties

| Name                  | Type      | Default | Description                                                                         |
| --------------------- | --------- | ------- | ----------------------------------------------------------------------------------- |
| `type`Required        | `string`  | -       | The type of parameter the AI is passing to the function. Must be set to `"boolean"` |
| `description`Optional | `string`  | -       | A description of the property                                                       |
| `default`Optional     | `boolean` | -       | The default boolean value                                                           |
| `nullable`Optional    | `boolean` | `false` | Whether the property can be null                                                    |

#### Example[​](#example-3 "Direct link to Example")

* YAML
* JSON

```yaml
parameters:
  type: object
  properties:
    property_name:
      type: boolean
      description: A boolean value

```

```yaml
{
  "parameters": {
    "type": "object",
    "properties": {
      "property_name": {
        "type": "boolean",
        "description": "A boolean value"
      }
    }
  }
}

```

### Array Properties

| Name                  | Type      | Default | Description                                                                           |
| --------------------- | --------- | ------- | ------------------------------------------------------------------------------------- |
| `type`Required        | `string`  | -       | The type of parameter(s) the AI is passing to the function. Must be set to `"array"`  |
| `description`Optional | `string`  | -       | A description of the property                                                         |
| `items`Required       | `object`  | -       | An array of items. These items must be one of the valid [schema types](#schema-types) |
| `default`Optional     | `array`   | -       | The default array value                                                               |
| `nullable`Optional    | `boolean` | `false` | Whether the property can be null                                                      |

#### Example[​](#example-4 "Direct link to Example")

* YAML
* JSON

```yaml
parameters:
  type: object
  properties:
    property_name:
      type: array
      description: Array of strings and objects
      items:
        - type: string
          description: A single string value that must be one of the possible values
          default: "one"
          enum:
            - "one"
            - "two"
            - "three"
        - type: object
          description: An object with a required property, `desired_value`, that must be one of the possible values
          required:
            - desired_value
          properties:
            desired_value:
              type: string
              description: A single string value that must be one of the possible values
              enum:
                - "four"
                - "five"
                - "six"

```

```yaml
{
  "parameters": {
    "type": "object",
    "properties": {
      "property_name": {
        "type": "array",
        "description": "Array of strings and objects",
        "items": [
          {
            "type": "string",
            "description": "A single string value that must be one of the possible values",
            "default": "one",
            "enum": [
              "one",
              "two",
              "three"
            ]
          },
          {
            "type": "object",
            "description": "An object with a required property, `desired_value`, that must be one of the possible values",
            "required": [
              "desired_value"
            ],
            "properties": {
              "desired_value": {
                "type": "string",
                "description": "A single string value that must be one of the possible values",
                "enum": [
                  "four",
                  "five",
                  "six"
                ]
              }
            }
          }
        ]
      }
    }
  }
}

```

### Object Properties

| Name                  | Type       | Default | Description                                                                                     |
| --------------------- | ---------- | ------- | ----------------------------------------------------------------------------------------------- |
| `type`Required        | `string`   | -       | The type of parameter(s) the AI is passing to the function. Must be set to `"object"`           |
| `description`Optional | `string`   | -       | A description of the property                                                                   |
| `properties`Optional  | `object`   | -       | An object that contains the [properties](#properties) definitions to be passed to the function. |
| `required`Optional    | `string[]` | -       | The property names that are required for the `properties` object                                |
| `default`Optional     | `object`   | -       | The default object value                                                                        |
| `nullable`Optional    | `boolean`  | `false` | Whether the property can be null                                                                |

#### Example[​](#example-5 "Direct link to Example")

* YAML
* JSON

```yaml
parameters:
  type: object
  properties:
    name:
      type: string
      description: The user's name
    age:
      type: integer
      description: The user's age
    address:
      type: object
      description: The user's address
      properties:
        street:
          type: string
          description: The user's street address
        city:
          type: string
          description: The user's city
      required:
        - street
        - city

```

```yaml
{
  "parameters": {
    "type": "object",
    "properties": {
      "name": {
        "type": "string",
        "description": "The user's name"
      },
      "age": {
        "type": "integer",
        "description": "The user's age"
      },
      "address": {
        "type": "object",
        "description": "The user's address",
        "properties": {
          "street": {
            "type": "string",
            "description": "The user's street address"
          },
          "city": {
            "type": "string",
            "description": "The user's city"
          }
        },
        "required": [
          "street",
          "city"
        ]
      }
    }
  }
}

```

### oneOf Property

Specifies that the data must be valid against exactly one of the provided schemas.

| Name             | Type    | Default | Description                                                                                                      |
| ---------------- | ------- | ------- | ---------------------------------------------------------------------------------------------------------------- |
| `oneOf` Required | `array` | -       | An array of schemas where exactly one must be valid.<br />The value must be a valid [schema type](#schema-types) |

#### Example[​](#example-6 "Direct link to Example")

* YAML
* JSON

```yaml
parameters:
  type: object
  properties:
    property_name:
      oneOf:
        - type: string
          description: A string value
        - type: integer
          description: An integer value

```

```yaml
{
  "parameters": {
    "type": "object",
    "properties": {
      "property_name": {
        "oneOf": [
          {
            "type": "string",
            "description": "A string value"
          },
          {
            "type": "integer",
            "description": "An integer value"
          }
        ]
      }
    }
  }
}

```

### allOf Property

Specifies that the data must be valid against all of the provided schemas.

| Name             | Type    | Default | Description                                                                                              |
| ---------------- | ------- | ------- | -------------------------------------------------------------------------------------------------------- |
| `allOf` Required | `array` | -       | An array of schemas where all must be valid.<br />The value must be a valid [schema type](#schema-types) |

#### Example[​](#example-7 "Direct link to Example")

* YAML
* JSON

```yaml
parameters:
  type: object
  properties:
    property_name:
      allOf:
        - type: string
          description: A string value
        - type: integer
          description: An integer value

```

```yaml
{
  "parameters": {
    "type": "object",
    "properties": {
      "property_name": {
        "allOf": [
          {
            "type": "string",
            "description": "A string value"
          },
          {
            "type": "integer",
            "description": "An integer value"
          }
        ]
      }
    }
  }
}

```

### anyOf Property

Specifies that the data must be valid against at least one of the provided schemas.

| Name             | Type    | Default | Description                                                                                                       |
| ---------------- | ------- | ------- | ----------------------------------------------------------------------------------------------------------------- |
| `anyOf` Required | `array` | -       | An array of schemas where at least one must be valid.<br />The value must be a valid [schema type](#schema-types) |

#### Example[​](#example-8 "Direct link to Example")

* YAML
* JSON

```yaml
parameters:
  type: object
  properties:
    property_name:
      anyOf:
        - type: string
          description: A string value
        - type: integer
          description: An integer value

```

```yaml
{
  "parameters": {
    "type": "object",
    "properties": {
      "property_name": {
        "anyOf": [
          {
            "type": "string",
            "description": "A string value"
          },
          {
            "type": "integer",
            "description": "An integer value"
          }
        ]
      }
    }
  }
}

```

### const Property

Specifies an exact value that the data must match.

| Name             | Type  | Default | Description                                                     |
| ---------------- | ----- | ------- | --------------------------------------------------------------- |
| `const` Required | `any` | -       | The value that will be set as a constant value for the property |

#### Example[​](#example-9 "Direct link to Example")

* YAML
* JSON

```yaml
parameters:
  type: object
  properties:
    property_name:
      const: "constant_value"

```

```yaml
{
  "parameters": {
    "type": "object",
    "properties": {
      "property_name": {
        "const": "constant_value"
      }
    }
  }
}

```

# SWAIG.native\_functions

The AI agent is already aware of these functions and can use them creatively based on prompting. For example, a prompt like, "tell the user what time it is" will automatically use the `check_time` function internally. Similarly, a prompt like, "ask the question and wait 10 seconds to let the user check", will automatically invoke the `wait_seconds` function with the appropriate parameters.

| Name                       | Return Type | Description                                                                                          |
| -------------------------- | ----------- | ---------------------------------------------------------------------------------------------------- |
| `native_functions`Optional | `string[]`  | The list of [`prebuilt functions`](#available-functions) that the AI agent needs to be able to call. |

## **Available Functions**[​](#available-functions "Direct link to available-functions")

| Name                      | Return Type | Description                                                                                                                                         |
| ------------------------- | ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| `adjust_response_latency` | `string`    | Adjust how long the agent will wait for the user to stop talking.                                                                                   |
| `check_time`              | `string`    | Returns the current time for the time zone set in `ai.local_tz`                                                                                     |
| `wait_for_user`           | `string`    | Use this function only when the user ask you to wait, hold on, or the equivalent. This will cause the AI to wait until the user speaks to it again. |
| `wait_seconds`            | `string`    | Waits for the given time                                                                                                                            |

# SWAIG Includes

Remote function signatures to include in SWAIG functions. Will allow you to include functions that are defined in a remote location that can be executed during the interaction with the AI. To learn more about how includes works see the [request flow](#request-flow) section.

| Name               | Type       | Default | Description                                                                         |
| ------------------ | ---------- | ------- | ----------------------------------------------------------------------------------- |
| `includes`Optional | `object[]` | -       | An array of objects that contain the [`includes parameters`](#includes-parameters). |

## **includes parameters**[​](#includes-parameters "Direct link to includes-parameters")

| Name                | Type       | Default | Description                                                                                                                     |
| ------------------- | ---------- | ------- | ------------------------------------------------------------------------------------------------------------------------------- |
| `url`Required       | `string`   | -       | URL where the remote functions are defined. Authentication can also be set in the url in the format of `username:password@url`. |
| `function`Required  | `string[]` | -       | An array of the function names to be included.                                                                                  |
| `meta_data`Optional | `object`   | -       | Metadata to be passed to the remote function. These are key-value pairs defined by the user.                                    |

## **SWML usage**[​](#swml-usage "Direct link to swml-usage")

* YAML
* JSON

```yaml
version: 1.0.0
sections:
  main:
    - ai:
        prompt:
          text: "You are a helpful assistant that can check weather."
        SWAIG:
          includes:
            - url: "https://example.com/swaig"
              function: ["get_weather"]
              meta_data:
                user_id: "12345"

```

```yaml
{
  "version": "1.0.0",
  "sections": {
    "main": [
      {
        "ai": {
          "prompt": {
            "text": "You are a helpful assistant that can check weather."
          },
          "SWAIG": {
            "includes": [
              {
                "url": "https://example.com/swaig",
                "function": [
                  "get_weather"
                ],
                "meta_data": {
                  "user_id": "12345"
                }
              }
            ]
          }
        }
      }
    ]
  }
}

```

## **Request flow**[​](#request-flow "Direct link to request-flow")

SWAIG includes creates a bridge between AI agents and external functions. When a SWML script initializes, it follows this two-phase process:

**Initialization Phase:** SWAIG discovers available functions from configured endpoints and requests their signatures to understand what each function can do.

**Runtime Phase:** The AI agent analyzes conversations, determines when functions match user intent, and executes them with full context.

***

### **Signature request**[​](#signature-request "Direct link to signature-request")

During SWML script initialization, SWAIG acts as a function discovery service. It examines your `includes` configuration, identifies the remote functions you've declared, then systematically contacts each endpoint to gather function definitions.

**How it works:** Looking at our SWML configuration example, SWAIG sends a targeted request to `https://example.com/swaig` specifically asking for the `get_weather` function definition. Along with this request, it forwards any `meta_data` you've configured—giving your server the context it needs to respond appropriately.

**The discovery request:**

```json
{
  "action": "get_signature",
  "functions": ["get_weather"]
}

```

**What your server should return:** Your endpoint must respond with complete function definitions that tell SWAIG everything it needs to know. Each function signature follows the [SWAIG functions structure](/swml/methods/ai/swaig/functions.md#parameters) and describes the function's purpose and required parameters:

```json
[
  {
    "function": "function_name1",
    "description": "Description of what this function does",
    "parameters": {
      "type": "object",
      "properties": {
        "param1": {
          "type": "string",
          "description": "Parameter description"
        }
      },
      "required": ["param1"]
    },
    "web_hook_url": "https://example.com/swaig"
  }
]

```

***

### **Function execution request**[​](#function-execution-request "Direct link to function-execution-request")

When the AI agent determines that a function call matches user intent—such as when a user requests weather information SWAIG packages the required information and sends it to the configured endpoint. The full details of the request can be found in the [web\_hook\_url](/swml/methods/ai/swaig/functions/web_hook_url.md#callback-request-for-web_hook_url) documentation.

**Example request format:**

```json
{
  "content_type": "text/swaig",
  "function": "function_name1",
  "argument": {
    "parsed": [{"city": "New York"}],
    "raw": "{\"city\":\"New York\"}",
    "substituted": "{\"city\":\"New York\"}"
  },
  "meta_data": {
    "custom_key": "custom_value"
  },
  "meta_data_token": "optional_token",
  "app_name": "swml app",
  "version": "2.0"
}

```

SWAIG provides arguments in multiple formats—`parsed` for direct access, `raw` for the original text, and `substituted` with variable replacements applied. This flexibility supports edge cases and complex parsing scenarios.

***

**Response formats:**

When your function completes, it needs to send a response back to SWAIG. You have three main options depending on what you want to accomplish:

* Simple Response
* Response + Actions
* Error Handling

**Use this when:** Your function just needs to return information to the AI agent.

```json
{
  "response": "The weather in New York is sunny and 75°F"
}

```

The AI agent will receive this information and incorporate it naturally into the conversation with the user.

**Use this when:** You want to return information AND make something happen (like speaking, sending messages, etc.).

```json
{
  "response": "Successfully booked your appointment for 3 PM tomorrow",
  "action": [
    {
      "say": "Your appointment has been confirmed for tomorrow at 3 PM"
    }
  ]
}

```

The `response` goes to the AI agent for conversation context, while `action` triggers immediate behaviors like speaking the confirmation out loud.

Available actions

Functions can trigger various behaviors: speaking text, sending SMS, playing audio, transferring calls, and more. See the [actions documentation](/swml/methods/ai/swaig/functions/web_hook_url.md#actions) for all available options.

**Use this when:** Something goes wrong and you need to inform the AI agent about the failure.

**Important:** Always use HTTP status code `200` even for errors. SWAIG handles errors through the response content, not HTTP status codes.

```json
{
  "response": "Unable to retrieve weather data for the specified location. The weather API returned an error or the city name may be invalid."
}

```

**Write error messages for the AI agent:** The error response goes directly to the AI agent, which will then decide how to communicate the failure to the user. Be descriptive about what went wrong so the AI can provide helpful alternatives or suggestions.

Error handling protocol

* Always return HTTP status `200`
* Write error messages that explain what failed and why
* The AI agent will interpret your error message and respond to the user appropriately
* This keeps conversations flowing instead of breaking

More information about the response format can be found in the [web\_hook\_url](/swml/methods/ai/swaig/functions/web_hook_url.md#webhook-response) documentation.

***

## **Flow diagram**[​](#flow-diagram "Direct link to flow-diagram")

The following diagram illustrates the complete SWAIG includes process from initialization to function execution:

<!-- -->

***

## **Reference implementation**[​](#reference-implementation "Direct link to reference-implementation")

The following implementations demonstrate the essential pattern: define functions, map them to actual code, and handle both signature requests and function executions.

* Python/Flask
* JavaScript/Express

```python
from flask import Flask, request, jsonify

app = Flask(__name__)

# Define what SWAIG will see when it asks for signatures
FUNCTIONS = {
    "get_weather": {
        "function": "get_weather",
        "description": "Get current weather for a city",
        "parameters": {
            "type": "object",
            "properties": {
                "city": {"type": "string", "description": "The city name"}
            },
            "required": ["city"]
        },
        "web_hook_url": "https://example.com/swaig"
    }
}

# The actual business logic
def get_weather(city, meta_data=None, **kwargs):
    # Logic to get weather data
    # ...
    temperature = 75
    result = f"The weather in {city} is sunny and {temperature}°F"
    # Return both a response AND an action
    actions = [{"say": result}]
    return result, actions

# Connect function names to actual functions
FUNCTION_MAP = {
    "get_weather": get_weather
}

@app.route('/swaig', methods=['POST'])
def handle_swaig():
    data = request.json
    
    # SWAIG is asking what we can do
    if data.get('action') == 'get_signature':
        requested = data.get('functions', list(FUNCTIONS.keys()))
        return jsonify([FUNCTIONS[name] for name in requested if name in FUNCTIONS])
    
    # SWAIG wants us to actually do something
    function_name = data.get('function')
    if function_name not in FUNCTION_MAP:
        return jsonify({"response": "Function not found"}), 200
    
    params = data.get('argument', {}).get('parsed', [{}])[0]
    meta_data = data.get('meta_data', {})
    
    # Call the function and get results
    result, actions = FUNCTION_MAP[function_name](meta_data=meta_data, **params)
    return jsonify({"response": result, "action": actions})

if __name__ == '__main__':
    app.run(debug=True)

```

```javascript
const express = require('express');
const app = express();
app.use(express.json());

// Define what SWAIG will see when it asks for signatures
const FUNCTIONS = {
    "get_weather": {
        "function": "get_weather",
        "description": "Get current weather for a city", 
        "parameters": {
            "type": "object",
            "properties": {
                "city": {"type": "string", "description": "The city name"}
            },
            "required": ["city"]
        },
        "web_hook_url": "https://example.com/swaig"
    }
};

// The actual business logic
function get_weather({city, ...additionalParams}, metaData) {
    // Logic to get weather data
    // ...
    const temperature = 75;
    const result = `The weather in ${city} is sunny and ${temperature}°F`;
    // Return both a response AND an action
    const actions = [{"say": result}];
    return [result, actions];
}

// Connect function names to actual functions
const FUNCTION_MAP = {
    "get_weather": get_weather
};

app.post('/swaig', (req, res) => {
    const data = req.body;
    
    // SWAIG is asking what we can do
    if (data.action === 'get_signature') {
        const requested = data.functions || Object.keys(FUNCTIONS);
        const signatures = requested.filter(name => FUNCTIONS[name]).map(name => FUNCTIONS[name]);
        return res.json(signatures);
    }
    
    // SWAIG wants us to actually do something
    const functionName = data.function;
    if (!FUNCTION_MAP[functionName]) {
        return res.status(200).json({"response": "Function not found"});
    }
    
    const params = data.argument?.parsed?.[0] || {};
    const metaData = data.meta_data || {};
    
    // Call the function and get results
    const [result, actions] = FUNCTION_MAP[functionName](params, metaData);
    return res.json({"response": result, "action": actions});
});

app.listen(3000, () => console.log('Server running on port 3000'));

```

***

### **Testing the implementation**[​](#testing-the-implementation "Direct link to testing-the-implementation")

To test the implementation, start the server and simulate SWAIG requesting function signatures. This command requests signatures from the endpoint:

```bash
curl -X POST http://localhost:5000/swaig \
  -H "Content-Type: application/json" \
  -d '{"action": "get_signature"}'

```

**Expected response:** A successful response returns function definitions in this format:

```json
[
  {
    "description": "Get current weather for a city",
    "function": "get_weather",
    "parameters": {
      "properties": {
        "city": {
          "description": "The city name",
          "type": "string"
        }
      },
      "required": [
        "city"
      ],
      "type": "object"
    },
    "web_hook_url": "https://example.com/swaig"
  }
]

```

# internal\_fillers

An array of objects that define language-specific filler phrases for internal SWAIG functions. These fillers help break silence between responses and are played asynchronously during the function call.

| Name                       | Type     | Default | Description                                                                              |
| -------------------------- | -------- | ------- | ---------------------------------------------------------------------------------------- |
| `internal_fillers`Optional | `object` | -       | An object that contains the [internal\_fillers parameters](#internal_fillers-parameters) |

## `internal_fillers` parameters[​](#internal_fillers-parameters "Direct link to internal_fillers-parameters")

The `internal_fillers` object contains parameters for various internal functions that the AI Agent can use during conversations. Each function can have language-specific filler phrases to enhance the conversation flow. All functions accept the same [object structure](#filler-object-structure) for defining fillers.

| Name                              | Type     | Description                                                                                                                                                                                              |
| --------------------------------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `hangup`Optional                  | `object` | Filler phrases played when the AI Agent is hanging up the call.                                                                                                                                          |
| `check_time`Optional              | `object` | Filler phrases played when the AI Agent is checking the time.                                                                                                                                            |
| `wait_for_user`Optional           | `object` | Filler phrases played when the AI Agent is waiting for user input.                                                                                                                                       |
| `wait_seconds`Optional            | `object` | Filler phrases played during deliberate pauses or wait periods.                                                                                                                                          |
| `adjust_response_latency`Optional | `object` | Filler phrases played when the AI Agent is adjusting response timing.                                                                                                                                    |
| `next_step`Optional               | `object` | Filler phrases played when transitioning between conversation steps when utilizing [`prompt.context`](/swml/methods/ai/prompt/contexts.md).                                                              |
| `change_context`Optional          | `object` | Filler phrases played when switching between conversation contexts when utilizing [`prompt.context`](/swml/methods/ai/prompt/contexts.md).                                                               |
| `get_visual_input`Optional        | `object` | Filler phrases played when the AI Agent is processing visual input. This function is enabled when the `enable_vision` property is set to `true` in the [`ai.params`](/swml/methods/ai/params.md) method. |
| `get_ideal_strategy`Optional      | `object` | Filler phrases played when the AI Agent is thinking or considering options. This is utilized when `enable_thinking` is set to `true` in [ai.params](/swml/methods/ai/params.md).                         |

## Filler Object Structure[​](#filler-object-structure "Direct link to Filler Object Structure")

Each [`internal_fillers` parameters](#internal_fillers-parameters) accepts an [object containing language-specific filler phrases](#language-specific-fillers). All functions use the same structure for defining fillers.

### Language-Specific Fillers[​](#language-specific-fillers "Direct link to Language-Specific Fillers")

| Language Code   | Type       | Description                                                                                                                                                                                                              |
| --------------- | ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `[key: string]` | `string[]` | An array of filler phrases that will be played during the function execution. The key is a valid [language code](#supported-language-codes) and the value is an array of filler phrases that are selected from randomly. |

## Supported Language Codes[​](#supported-language-codes "Direct link to Supported Language Codes")

Internal filler functions accept an object with the key being one of the supported language codes and the value being an array of filler phrases.

The following is the list of supported language codes:

| Code      | Description                                                                                      |
| --------- | ------------------------------------------------------------------------------------------------ |
| `default` | Default language set by the user in the [`ai.languages`](/swml/methods/ai/languages.md) property |
| `bg`      | Bulgarian                                                                                        |
| `ca`      | Catalan                                                                                          |
| `cs`      | Czech                                                                                            |
| `da`      | Danish                                                                                           |
| `da-DK`   | Danish (Denmark)                                                                                 |
| `de`      | German                                                                                           |
| `de-CH`   | German (Switzerland)                                                                             |
| `el`      | Greek                                                                                            |
| `en`      | English                                                                                          |
| `en-AU`   | English (Australia)                                                                              |
| `en-GB`   | English (United Kingdom)                                                                         |
| `en-IN`   | English (India)                                                                                  |
| `en-NZ`   | English (New Zealand)                                                                            |
| `en-US`   | English (United States)                                                                          |
| `es`      | Spanish                                                                                          |
| `es-419`  | Spanish (Latin America)                                                                          |
| `et`      | Estonian                                                                                         |
| `fi`      | Finnish                                                                                          |
| `fr`      | French                                                                                           |
| `fr-CA`   | French (Canada)                                                                                  |
| `hi`      | Hindi                                                                                            |
| `hu`      | Hungarian                                                                                        |
| `id`      | Indonesian                                                                                       |
| `it`      | Italian                                                                                          |
| `ja`      | Japanese                                                                                         |
| `ko`      | Korean                                                                                           |
| `ko-KR`   | Korean (South Korea)                                                                             |
| `lt`      | Lithuanian                                                                                       |
| `lv`      | Latvian                                                                                          |
| `ms`      | Malay                                                                                            |
| `multi`   | Multilingual (Spanish + English)                                                                 |
| `nl`      | Dutch                                                                                            |
| `nl-BE`   | Flemish (Belgian Dutch)                                                                          |
| `no`      | Norwegian                                                                                        |
| `pl`      | Polish                                                                                           |
| `pt`      | Portuguese                                                                                       |
| `pt-BR`   | Portuguese (Brazil)                                                                              |
| `pt-PT`   | Portuguese (Portugal)                                                                            |
| `ro`      | Romanian                                                                                         |
| `ru`      | Russian                                                                                          |
| `sk`      | Slovak                                                                                           |
| `sv`      | Swedish                                                                                          |
| `sv-SE`   | Swedish (Sweden)                                                                                 |
| `th`      | Thai                                                                                             |
| `th-TH`   | Thai (Thailand)                                                                                  |
| `tr`      | Turkish                                                                                          |
| `uk`      | Ukrainian                                                                                        |
| `vi`      | Vietnamese                                                                                       |
| `zh`      | Chinese (Simplified)                                                                             |
| `zh-CN`   | Chinese (Simplified, China)                                                                      |
| `zh-Hans` | Chinese (Simplified Han)                                                                         |
| `zh-Hant` | Chinese (Traditional Han)                                                                        |
| `zh-HK`   | Chinese (Traditional, Hong Kong)                                                                 |
| `zh-TW`   | Chinese (Traditional, Taiwan)                                                                    |

***

## Examples[​](#examples "Direct link to Examples")

### Basic Usage[​](#basic-usage "Direct link to Basic Usage")

* YAML
* JSON

```yaml
internal_fillers:
  hangup:
    en-US:
      - 'Goodbye!'
      - 'Thank you for calling.'
      - 'Have a great day!'
    es-ES:
      - '¡Adiós!'
      - 'Gracias por llamar.'
      - '¡Que tengas un buen día!'
  check_time:
    default:
      - 'Let me check the time.'
      - 'One moment while I get the time.'
      - 'Just checking the current time.'

```

```yaml
{
  "internal_fillers": {
    "hangup": {
      "en-US": [
        "Goodbye!",
        "Thank you for calling.",
        "Have a great day!"
      ],
      "es-ES": [
        "¡Adiós!",
        "Gracias por llamar.",
        "¡Que tengas un buen día!"
      ]
    },
    "check_time": {
      "default": [
        "Let me check the time.",
        "One moment while I get the time.",
        "Just checking the current time."
      ]
    }
  }
}

```

### Comprehensive Example[​](#comprehensive-example "Direct link to Comprehensive Example")

* YAML
* JSON

```yaml
internal_fillers:
  hangup:
    en-US:
      - 'Goodbye!'
      - 'Thank you for calling.'
      - 'Have a great day!'
      - 'It was nice talking with you.'
    es-ES:
      - '¡Adiós!'
      - 'Gracias por llamar.'
      - '¡Que tengas un buen día!'
      - 'Fue un placer hablar contigo.'
  check_time:
    en-US:
      - 'Let me check the time.'
      - 'One moment while I get the time.'
      - 'Just checking the current time.'
      - 'Give me a second to look at the time.'
    es-ES:
      - 'Permíteme verificar la hora.'
      - 'Un momento mientras obtengo la hora.'
      - 'Solo verificando la hora actual.'
      - 'Dame un segundo para ver la hora.'
  wait_for_user:
    en-US:
      - I'm listening.
      - Go ahead.
      - I'm here, please continue.
      - Take your time.
    es-ES:
      - Te escucho.
      - Adelante.
      - Estoy aquí, por favor continúa.
      - 'Tómate tu tiempo.'
  wait_seconds:
    en-US:
      - Just a moment.
      - Please hold.
      - One second please.
      - Bear with me for just a moment.
    es-ES:
      - Solo un momento.
      - Por favor espera.
      - Un segundo por favor.
      - Ten paciencia por un momento.
  adjust_response_latency:
    en-US:
      - Adjusting response time.
      - Optimizing for better conversation flow.
      - Fine-tuning my responses.
      - Just calibrating my timing.
    es-ES:
      - Ajustando el tiempo de respuesta.
      - Optimizando para mejor fluidez de conversación.
      - Afinando mis respuestas.
      - Solo calibrando mi tiempo.
  next_step:
    en-US:
      - Moving on to the next step.
      - Let's continue.
      - Now let's proceed.
      - Next, we'll move forward.
    es-ES:
      - Pasando al siguiente paso.
      - Continuemos.
      - Ahora procedamos.
      - A continuación, avanzaremos.
  change_context:
    en-US:
      - Switching topics now.
      - Let me adjust my focus.
      - Changing gears here.
      - Moving to a different area.
    es-ES:
      - Cambiando de tema ahora.
      - Permíteme ajustar mi enfoque.
      - Cambiando de rumbo aquí.
      - Pasando a un área diferente.
  get_visual_input:
    en-US:
      - Analyzing visual input, please wait.
      - I am scanning my surroundings for data, this won't take long.
      - Please wait briefly while I process the data in front of me.
      - I am currently digitizing the data so I can proceed, please hold on.
    es-ES:
      - Analizando entrada visual, por favor espera.
      - Estoy escaneando mi entorno para obtener datos, esto no tardará mucho.
      - Por favor espera un momento mientras proceso los datos frente a mí.
      - Actualmente estoy digitalizando los datos para poder proceder, por favor espera.
  get_ideal_strategy:
    en-US:
      - Let me think about that.
      - Give me a moment to consider the best approach.
      - I'm considering the options.
      - Let me figure out the best way forward.
    es-ES:
      - Déjame pensar en eso.
      - Dame un momento para considerar el mejor enfoque.
      - Estoy considerando las opciones.
      - Déjame encontrar la mejor manera de proceder.

```

```yaml
{
  "internal_fillers": {
    "hangup": {
      "en-US": [
        "Goodbye!",
        "Thank you for calling.",
        "Have a great day!",
        "It was nice talking with you."
      ],
      "es-ES": [
        "¡Adiós!",
        "Gracias por llamar.",
        "¡Que tengas un buen día!",
        "Fue un placer hablar contigo."
      ]
    },
    "check_time": {
      "en-US": [
        "Let me check the time.",
        "One moment while I get the time.",
        "Just checking the current time.",
        "Give me a second to look at the time."
      ],
      "es-ES": [
        "Permíteme verificar la hora.",
        "Un momento mientras obtengo la hora.",
        "Solo verificando la hora actual.",
        "Dame un segundo para ver la hora."
      ]
    },
    "wait_for_user": {
      "en-US": [
        "I'm listening.",
        "Go ahead.",
        "I'm here, please continue.",
        "Take your time."
      ],
      "es-ES": [
        "Te escucho.",
        "Adelante.",
        "Estoy aquí, por favor continúa.",
        "Tómate tu tiempo."
      ]
    },
    "wait_seconds": {
      "en-US": [
        "Just a moment.",
        "Please hold.",
        "One second please.",
        "Bear with me for just a moment."
      ],
      "es-ES": [
        "Solo un momento.",
        "Por favor espera.",
        "Un segundo por favor.",
        "Ten paciencia por un momento."
      ]
    },
    "adjust_response_latency": {
      "en-US": [
        "Adjusting response time.",
        "Optimizing for better conversation flow.",
        "Fine-tuning my responses.",
        "Just calibrating my timing."
      ],
      "es-ES": [
        "Ajustando el tiempo de respuesta.",
        "Optimizando para mejor fluidez de conversación.",
        "Afinando mis respuestas.",
        "Solo calibrando mi tiempo."
      ]
    },
    "next_step": {
      "en-US": [
        "Moving on to the next step.",
        "Let's continue.",
        "Now let's proceed.",
        "Next, we'll move forward."
      ],
      "es-ES": [
        "Pasando al siguiente paso.",
        "Continuemos.",
        "Ahora procedamos.",
        "A continuación, avanzaremos."
      ]
    },
    "change_context": {
      "en-US": [
        "Switching topics now.",
        "Let me adjust my focus.",
        "Changing gears here.",
        "Moving to a different area."
      ],
      "es-ES": [
        "Cambiando de tema ahora.",
        "Permíteme ajustar mi enfoque.",
        "Cambiando de rumbo aquí.",
        "Pasando a un área diferente."
      ]
    },
    "get_visual_input": {
      "en-US": [
        "Analyzing visual input, please wait.",
        "I am scanning my surroundings for data, this won't take long.",
        "Please wait briefly while I process the data in front of me.",
        "I am currently digitizing the data so I can proceed, please hold on."
      ],
      "es-ES": [
        "Analizando entrada visual, por favor espera.",
        "Estoy escaneando mi entorno para obtener datos, esto no tardará mucho.",
        "Por favor espera un momento mientras proceso los datos frente a mí.",
        "Actualmente estoy digitalizando los datos para poder proceder, por favor espera."
      ]
    },
    "get_ideal_strategy": {
      "en-US": [
        "Let me think about that.",
        "Give me a moment to consider the best approach.",
        "I'm considering the options.",
        "Let me figure out the best way forward."
      ],
      "es-ES": [
        "Déjame pensar en eso.",
        "Dame un momento para considerar el mejor enfoque.",
        "Estoy considerando las opciones.",
        "Déjame encontrar la mejor manera de proceder."
      ]
    }
  }
}

```
